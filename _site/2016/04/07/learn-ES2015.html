<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>ES2015新特性</title>
  <meta name="description" content="  This document was originally taken from Luke Hoban’s excellent es6features repo.Be sure to try these features out in the online REPL.">
  <link rel="shortcut icon" type="image/x-icon" href="/blog/favicon.ico" />
  <link rel="stylesheet" href="/blog/css/main.css">
  <link rel="canonical" href="http://localhost:4000/blog/2016/04/07/learn-ES2015.html">
  <link rel="alternate" type="application/rss+xml" title="newlifebegins" href="http://localhost:4000/blog/feed.xml">
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/blog/">newlifebegins</a>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">ES2015新特性</h1>
    <p class="post-meta"><time datetime="2016-04-07T00:00:00+08:00" itemprop="datePublished">Apr 7, 2016</time></p>
  </header>

  <div class="markdown-body" itemprop="articleBody">
    <blockquote>
  <p>This document was originally taken from Luke Hoban’s excellent es6features repo.
Be sure to try these features out in the online REPL.</p>
</blockquote>

<h1 id="introduction">Introduction</h1>

<p>ECMAScript 2015 is the newest version of the ECMAScript standard. This standard was ratified in June 2015. ES2015 is a significant update to the language, and the first major update to the language since ES5 was standardized in 2009. Implementation of these features in major JavaScript engines is underway now.
See the ES2015 standard for full specification of the ECMAScript 2015 language.</p>

<h1 id="ecmascript-2015-features">ECMAScript 2015 Features</h1>

<h2 id="arrows-and-lexical-this">Arrows and Lexical This</h2>

<p>Arrows are a function shorthand using the =&gt; syntax. They are syntactically similar to the related feature in C#, Java 8 and CoffeeScript. They support both expression and statement bodies. Unlike functions, arrows share the same lexical this as their surrounding code.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Expression bodies</span>
<span class="kd">var</span> <span class="nx">odds</span> <span class="o">=</span> <span class="nx">evens</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">v</span> <span class="o">=&gt;</span> <span class="nx">v</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">nums</span> <span class="o">=</span> <span class="nx">evens</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">v</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">v</span> <span class="o">+</span> <span class="nx">i</span><span class="p">);</span>

<span class="c1">// Statement bodies</span>
<span class="nx">nums</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">v</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">v</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span>
    <span class="nx">fives</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">v</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// Lexical this</span>
<span class="kd">var</span> <span class="nx">bob</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">_name</span><span class="p">:</span> <span class="s2">"Bob"</span><span class="p">,</span>
  <span class="na">_friends</span><span class="p">:</span> <span class="p">[],</span>
  <span class="nx">printFriends</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_friends</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">f</span> <span class="o">=&gt;</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_name</span> <span class="o">+</span> <span class="s2">" knows "</span> <span class="o">+</span> <span class="nx">f</span><span class="p">));</span>
  <span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div>

<h2 id="classes">Classes</h2>

<p>ES2015 classes are a simple sugar over the prototype-based OO pattern. Having a single convenient declarative form makes class patterns easier to use, and encourages interoperability. Classes support prototype-based inheritance, super calls, instance and static methods and constructors.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">SkinnedMesh</span> <span class="kd">extends</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Mesh</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="nx">geometry</span><span class="p">,</span> <span class="nx">materials</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">(</span><span class="nx">geometry</span><span class="p">,</span> <span class="nx">materials</span><span class="p">);</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">idMatrix</span> <span class="o">=</span> <span class="nx">SkinnedMesh</span><span class="p">.</span><span class="nx">defaultMatrix</span><span class="p">();</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">bones</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">boneMatrices</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="c1">//...</span>
  <span class="p">}</span>
  <span class="nx">update</span><span class="p">(</span><span class="nx">camera</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//...</span>
    <span class="k">super</span><span class="p">.</span><span class="nx">update</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="kr">static</span> <span class="nx">defaultMatrix</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Matrix4</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="enhanced-object-literals">Enhanced Object Literals</h2>

<p>Object literals are extended to support setting the prototype at construction, shorthand for foo: foo assignments, defining methods and making super calls. Together, these also bring object literals and class declarations closer together, and let object-based design benefit from some of the same conveniences.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1">// __proto__</span>
    <span class="na">__proto__</span><span class="p">:</span> <span class="nx">theProtoObj</span><span class="p">,</span>
    <span class="c1">// Does not set internal prototype</span>
    <span class="s1">'__proto__'</span><span class="p">:</span> <span class="nx">somethingElse</span><span class="p">,</span>
    <span class="c1">// Shorthand for ‘handler: handler’</span>
    <span class="nx">handler</span><span class="p">,</span>
    <span class="c1">// Methods</span>
    <span class="nx">toString</span><span class="p">()</span> <span class="p">{</span>
     <span class="c1">// Super calls</span>
     <span class="k">return</span> <span class="s2">"d "</span> <span class="o">+</span> <span class="k">super</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span>
    <span class="p">},</span>
    <span class="c1">// Computed (dynamic) property names</span>
    <span class="p">[</span> <span class="s2">"prop_"</span> <span class="o">+</span> <span class="p">(()</span> <span class="o">=&gt;</span> <span class="mi">42</span><span class="p">)()</span> <span class="p">]:</span> <span class="mi">42</span>
<span class="p">};</span>
</code></pre></div></div>

<h2 id="template-strings">Template Strings</h2>

<p>Template strings provide syntactic sugar for constructing strings. This is similar to string interpolation features in Perl, Python and more. Optionally, a tag can be added to allow the string construction to be customized, avoiding injection attacks or constructing higher level data structures from string contents.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Basic literal string creation</span>
<span class="s2">`This is a pretty little template string.`</span>

<span class="c1">// Multiline strings</span>
<span class="s2">`In ES5 this is
 not legal.`</span>

<span class="c1">// Interpolate variable bindings</span>
<span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="s2">"Bob"</span><span class="p">,</span> <span class="nx">time</span> <span class="o">=</span> <span class="s2">"today"</span><span class="p">;</span>
<span class="s2">`Hello </span><span class="p">${</span><span class="nx">name</span><span class="p">}</span><span class="s2">, how are you </span><span class="p">${</span><span class="nx">time</span><span class="p">}</span><span class="s2">?`</span>

<span class="c1">// Unescaped template strings</span>
<span class="nb">String</span><span class="p">.</span><span class="nx">raw</span><span class="s2">`In ES5 "\n" is a line-feed.`</span>

<span class="c1">// Construct an HTTP request prefix is used to interpret the replacements and construction</span>
<span class="nx">GET</span><span class="s2">`http://foo.org/bar?a=</span><span class="p">${</span><span class="nx">a</span><span class="p">}</span><span class="s2">&amp;b=</span><span class="p">${</span><span class="nx">b</span><span class="p">}</span><span class="s2">
    Content-Type: application/json
    X-Credentials: </span><span class="p">${</span><span class="nx">credentials</span><span class="p">}</span><span class="s2">
    { "foo": </span><span class="p">${</span><span class="nx">foo</span><span class="p">}</span><span class="s2">,
      "bar": </span><span class="p">${</span><span class="nx">bar</span><span class="p">}</span><span class="s2">}`</span><span class="p">(</span><span class="nx">myOnReadyStateChangeHandler</span><span class="p">);</span>
</code></pre></div></div>

<h2 id="destructuring">Destructuring</h2>

<p>Destructuring allows binding using pattern matching, with support for matching arrays and objects. Destructuring is fail-soft, similar to standard object lookup foo[“bar”], producing undefined values when not found.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// list matching</span>
<span class="kd">var</span> <span class="p">[</span><span class="nx">a</span><span class="p">,</span> <span class="p">,</span><span class="nx">b</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">];</span>
<span class="nx">a</span> <span class="o">===</span> <span class="mi">1</span><span class="p">;</span>
<span class="nx">b</span> <span class="o">===</span> <span class="mi">3</span><span class="p">;</span>

<span class="c1">// object matching</span>
<span class="kd">var</span> <span class="p">{</span> <span class="na">op</span><span class="p">:</span> <span class="nx">a</span><span class="p">,</span> <span class="na">lhs</span><span class="p">:</span> <span class="p">{</span> <span class="na">op</span><span class="p">:</span> <span class="nx">b</span> <span class="p">},</span> <span class="na">rhs</span><span class="p">:</span> <span class="nx">c</span> <span class="p">}</span>
       <span class="o">=</span> <span class="nx">getASTNode</span><span class="p">()</span>

<span class="c1">// object matching shorthand</span>
<span class="c1">// binds `op`, `lhs` and `rhs` in scope</span>
<span class="kd">var</span> <span class="p">{</span><span class="nx">op</span><span class="p">,</span> <span class="nx">lhs</span><span class="p">,</span> <span class="nx">rhs</span><span class="p">}</span> <span class="o">=</span> <span class="nx">getASTNode</span><span class="p">()</span>

<span class="c1">// Can be used in parameter position</span>
<span class="kd">function</span> <span class="nx">g</span><span class="p">({</span><span class="na">name</span><span class="p">:</span> <span class="nx">x</span><span class="p">})</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">g</span><span class="p">({</span><span class="na">name</span><span class="p">:</span> <span class="mi">5</span><span class="p">})</span>

<span class="c1">// Fail-soft destructuring</span>
<span class="kd">var</span> <span class="p">[</span><span class="nx">a</span><span class="p">]</span> <span class="o">=</span> <span class="p">[];</span>
<span class="nx">a</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">;</span>

<span class="c1">// Fail-soft destructuring with defaults</span>
<span class="kd">var</span> <span class="p">[</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">[];</span>
<span class="nx">a</span> <span class="o">===</span> <span class="mi">1</span><span class="p">;</span>

<span class="c1">// Destructuring + defaults arguments</span>
<span class="kd">function</span> <span class="nx">r</span><span class="p">({</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">w</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="nx">h</span> <span class="o">=</span> <span class="mi">10</span><span class="p">})</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span> <span class="o">+</span> <span class="nx">w</span> <span class="o">+</span> <span class="nx">h</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">r</span><span class="p">({</span><span class="na">x</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="na">y</span><span class="p">:</span><span class="mi">2</span><span class="p">})</span> <span class="o">===</span> <span class="mi">23</span>
</code></pre></div></div>

<h2 id="default--rest--spread">Default + Rest + Spread</h2>

<p>Callee-evaluated default parameter values. Turn an array into consecutive arguments in a function call. Bind trailing parameters to an array. Rest replaces the need for arguments and addresses common cases more directly.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">f</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// y is 12 if not passed (or passed as undefined)</span>
  <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">f</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="mi">15</span>
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">f</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="p">...</span><span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// y is an Array</span>
  <span class="k">return</span> <span class="nx">x</span> <span class="o">*</span> <span class="nx">y</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">f</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s2">"hello"</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span> <span class="o">==</span> <span class="mi">6</span>
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">f</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span> <span class="o">+</span> <span class="nx">z</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">// Pass each elem of array as argument</span>
<span class="nx">f</span><span class="p">(...[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span> <span class="o">==</span> <span class="mi">6</span>
</code></pre></div></div>

<h2 id="let--const">Let + Const</h2>

<p>Block-scoped binding constructs. let is the new var. const is single-assignment. Static restrictions prevent use before assignment.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">f</span><span class="p">()</span> <span class="p">{</span>
  <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">x</span><span class="p">;</span>
    <span class="p">{</span>
      <span class="c1">// okay, block scoped name</span>
      <span class="kd">const</span> <span class="nx">x</span> <span class="o">=</span> <span class="s2">"sneaky"</span><span class="p">;</span>
      <span class="c1">// error, const</span>
      <span class="nx">x</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="c1">// okay, declared with `let`</span>
    <span class="nx">x</span> <span class="o">=</span> <span class="s2">"bar"</span><span class="p">;</span>
    <span class="c1">// error, already declared in block</span>
    <span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="s2">"inner"</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="iterators--forof">Iterators + For..Of</h2>

<p>Iterator objects enable custom iteration like CLR IEnumerable or Java Iterable. Generalize for..in to custom iterator-based iteration with for..of. Don’t require realizing an array, enabling lazy design patterns like LINQ.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">fibonacci</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">[</span><span class="nb">Symbol</span><span class="p">.</span><span class="nx">iterator</span><span class="p">]()</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">pre</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">cur</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="nx">next</span><span class="p">()</span> <span class="p">{</span>
        <span class="p">[</span><span class="nx">pre</span><span class="p">,</span> <span class="nx">cur</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">cur</span><span class="p">,</span> <span class="nx">pre</span> <span class="o">+</span> <span class="nx">cur</span><span class="p">];</span>
        <span class="k">return</span> <span class="p">{</span> <span class="na">done</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span> <span class="na">value</span><span class="p">:</span> <span class="nx">cur</span> <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">n</span> <span class="k">of</span> <span class="nx">fibonacci</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// truncate the sequence at 1000</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">n</span> <span class="o">&gt;</span> <span class="mi">1000</span><span class="p">)</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">n</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Iteration is based on these duck-typed interfaces (using TypeScript type syntax for exposition only):</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kr">interface</span> <span class="nx">IteratorResult</span> <span class="p">{</span>
  <span class="nl">done</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">value</span><span class="p">:</span> <span class="nx">any</span><span class="p">;</span>
<span class="p">}</span>
<span class="kr">interface</span> <span class="nx">Iterator</span> <span class="p">{</span>
  <span class="nx">next</span><span class="p">():</span> <span class="nx">IteratorResult</span><span class="p">;</span>
<span class="p">}</span>
<span class="kr">interface</span> <span class="nx">Iterable</span> <span class="p">{</span>
  <span class="p">[</span><span class="nb">Symbol</span><span class="p">.</span><span class="nx">iterator</span><span class="p">]():</span> <span class="nx">Iterator</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="generators">Generators</h2>

<p>Generators simplify iterator-authoring using function* and yield. A function declared as function* returns a Generator instance. Generators are subtypes of iterators which include additional next and throw. These enable values to flow back into the generator, so yield is an expression form which returns a value (or throws).</p>

<p>Note: Can also be used to enable ‘await’-like async programming, see also ES7 await proposal.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">fibonacci</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">[</span><span class="nb">Symbol</span><span class="p">.</span><span class="nx">iterator</span><span class="p">]:</span> <span class="kd">function</span><span class="o">*</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">pre</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">cur</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(;;)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">temp</span> <span class="o">=</span> <span class="nx">pre</span><span class="p">;</span>
      <span class="nx">pre</span> <span class="o">=</span> <span class="nx">cur</span><span class="p">;</span>
      <span class="nx">cur</span> <span class="o">+=</span> <span class="nx">temp</span><span class="p">;</span>
      <span class="k">yield</span> <span class="nx">cur</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">n</span> <span class="k">of</span> <span class="nx">fibonacci</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// truncate the sequence at 1000</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">n</span> <span class="o">&gt;</span> <span class="mi">1000</span><span class="p">)</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">n</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>The generator interface is (using TypeScript type syntax for exposition only):</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kr">interface</span> <span class="nx">Generator</span> <span class="kd">extends</span> <span class="nx">Iterator</span> <span class="p">{</span>
    <span class="nx">next</span><span class="p">(</span><span class="nx">value</span><span class="p">?:</span> <span class="nx">any</span><span class="p">):</span> <span class="nx">IteratorResult</span><span class="p">;</span>
    <span class="k">throw</span><span class="p">(</span><span class="nx">exception</span><span class="p">:</span> <span class="nx">any</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="unicode">Unicode</h2>

<p>Non-breaking additions to support full Unicode, including new unicode literal form in strings and new RegExp u mode to handle code points, as well as new APIs to process strings at the 21bit code points level. These additions support building global apps in JavaScript.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// same as ES5.1</span>
<span class="s2">"𠮷"</span><span class="p">.</span><span class="nx">length</span> <span class="o">==</span> <span class="mi">2</span>

<span class="c1">// new RegExp behaviour, opt-in ‘u’</span>
<span class="s2">"𠮷"</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/./</span><span class="nx">u</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">length</span> <span class="o">==</span> <span class="mi">2</span>

<span class="c1">// new form</span>
<span class="s2">"</span><span class="err">\</span><span class="s2">u{20BB7}"</span> <span class="o">==</span> <span class="s2">"𠮷"</span> <span class="o">==</span> <span class="s2">"</span><span class="err">\</span><span class="s2">uD842</span><span class="err">\</span><span class="s2">uDFB7"</span>

<span class="c1">// new String ops</span>
<span class="s2">"𠮷"</span><span class="p">.</span><span class="nx">codePointAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="mh">0x20BB7</span>

<span class="c1">// for-of iterates code points</span>
<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">c</span> <span class="k">of</span> <span class="s2">"𠮷"</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">c</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="modules">Modules</h2>

<p>Language-level support for modules for component definition. Codifies patterns from popular JavaScript module loaders (AMD, CommonJS). Runtime behaviour defined by a host-defined default loader. Implicitly async model – no code executes until requested modules are available and processed.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// lib/math.js</span>
<span class="k">export</span> <span class="kd">function</span> <span class="nx">sum</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">export</span> <span class="kd">var</span> <span class="nx">pi</span> <span class="o">=</span> <span class="mf">3.141593</span><span class="p">;</span>
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// app.js</span>
<span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">math</span> <span class="k">from</span> <span class="s2">"lib/math"</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"2π = "</span> <span class="o">+</span> <span class="nx">math</span><span class="p">.</span><span class="nx">sum</span><span class="p">(</span><span class="nx">math</span><span class="p">.</span><span class="nx">pi</span><span class="p">,</span> <span class="nx">math</span><span class="p">.</span><span class="nx">pi</span><span class="p">));</span>
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// otherApp.js</span>
<span class="k">import</span> <span class="p">{</span><span class="nx">sum</span><span class="p">,</span> <span class="nx">pi</span><span class="p">}</span> <span class="k">from</span> <span class="s2">"lib/math"</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"2π = "</span> <span class="o">+</span> <span class="nx">sum</span><span class="p">(</span><span class="nx">pi</span><span class="p">,</span> <span class="nx">pi</span><span class="p">));</span>
</code></pre></div></div>

<p>Some additional features include export default and <code class="highlighter-rouge">export *</code>:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// lib/mathplusplus.js</span>
<span class="k">export</span> <span class="o">*</span> <span class="k">from</span> <span class="s2">"lib/math"</span><span class="p">;</span>
<span class="k">export</span> <span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="mf">2.71828182846</span><span class="p">;</span>
<span class="k">export</span> <span class="k">default</span> <span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">exp</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// app.js</span>
<span class="k">import</span> <span class="nx">exp</span><span class="p">,</span> <span class="p">{</span><span class="nx">pi</span><span class="p">,</span> <span class="nx">e</span><span class="p">}</span> <span class="k">from</span> <span class="s2">"lib/mathplusplus"</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"e^π = "</span> <span class="o">+</span> <span class="nx">exp</span><span class="p">(</span><span class="nx">pi</span><span class="p">));</span>
</code></pre></div></div>

<h2 id="module-loaders">Module Loaders</h2>

<blockquote>
  <p>Not part of ES2015,
This is left as implementation-defined within the ECMAScript 2015 specification. The eventual standard will be in WHATWG’s Loader specification, but that is currently a work in progress. What is below is from a previous ES2015 draft.</p>
</blockquote>

<p>Module loaders support:</p>

<ul>
  <li>Dynamic loading</li>
  <li>State isolation</li>
  <li>Global namespace isolation</li>
  <li>Compilation hooks</li>
  <li>Nested virtualization</li>
</ul>

<p>The default module loader can be configured, and new loaders can be constructed to evaluated and load code in isolated or constrained contexts.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Dynamic loading – ‘System’ is default loader</span>
<span class="nx">System</span><span class="p">.</span><span class="k">import</span><span class="p">(</span><span class="s2">"lib/math"</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">m</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">alert</span><span class="p">(</span><span class="s2">"2π = "</span> <span class="o">+</span> <span class="nx">m</span><span class="p">.</span><span class="nx">sum</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">pi</span><span class="p">,</span> <span class="nx">m</span><span class="p">.</span><span class="nx">pi</span><span class="p">));</span>
<span class="p">});</span>

<span class="c1">// Create execution sandboxes – new Loaders</span>
<span class="kd">var</span> <span class="nx">loader</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Loader</span><span class="p">({</span>
  <span class="na">global</span><span class="p">:</span> <span class="nx">fixup</span><span class="p">(</span><span class="nb">window</span><span class="p">)</span> <span class="c1">// replace ‘console.log’</span>
<span class="p">});</span>
<span class="nx">loader</span><span class="p">.</span><span class="kr">eval</span><span class="p">(</span><span class="s2">"console.log(</span><span class="se">\"</span><span class="s2">hello world!</span><span class="se">\"</span><span class="s2">);"</span><span class="p">);</span>

<span class="c1">// Directly manipulate module cache</span>
<span class="nx">System</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="s2">"jquery"</span><span class="p">);</span>
<span class="nx">System</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="s2">"jquery"</span><span class="p">,</span> <span class="nx">Module</span><span class="p">({</span><span class="na">$</span><span class="p">:</span> <span class="nx">$</span><span class="p">}));</span> <span class="c1">// WARNING: not yet finalized</span>
</code></pre></div></div>

<blockquote>
  <p>Additional polyfill needed:
Since Babel defaults to using common.js modules, it does not include the polyfill for the module loader API. Get it here.</p>
</blockquote>

<blockquote>
  <p>Using Module Loader:
In order to use this, you’ll need to tell Babel to use the system module formatter. Also be sure to check out System.js</p>
</blockquote>

<h2 id="map--set--weakmap--weakset">Map + Set + WeakMap + WeakSet</h2>

<p>Efficient data structures for common algorithms. WeakMaps provides leak-free object-key’d side tables.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Sets</span>
<span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Set</span><span class="p">();</span>
<span class="nx">s</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s2">"hello"</span><span class="p">).</span><span class="nx">add</span><span class="p">(</span><span class="s2">"goodbye"</span><span class="p">).</span><span class="nx">add</span><span class="p">(</span><span class="s2">"hello"</span><span class="p">);</span>
<span class="nx">s</span><span class="p">.</span><span class="nx">size</span> <span class="o">===</span> <span class="mi">2</span><span class="p">;</span>
<span class="nx">s</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="s2">"hello"</span><span class="p">)</span> <span class="o">===</span> <span class="kc">true</span><span class="p">;</span>

<span class="c1">// Maps</span>
<span class="kd">var</span> <span class="nx">m</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Map</span><span class="p">();</span>
<span class="nx">m</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="s2">"hello"</span><span class="p">,</span> <span class="mi">42</span><span class="p">);</span>
<span class="nx">m</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="mi">34</span><span class="p">);</span>
<span class="nx">m</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span> <span class="o">==</span> <span class="mi">34</span><span class="p">;</span>

<span class="c1">// Weak Maps</span>
<span class="kd">var</span> <span class="nx">wm</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">WeakMap</span><span class="p">();</span>
<span class="nx">wm</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="p">{</span> <span class="na">extra</span><span class="p">:</span> <span class="mi">42</span> <span class="p">});</span>
<span class="nx">wm</span><span class="p">.</span><span class="nx">size</span> <span class="o">===</span> <span class="kc">undefined</span>

<span class="c1">// Weak Sets</span>
<span class="kd">var</span> <span class="nx">ws</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">WeakSet</span><span class="p">();</span>
<span class="nx">ws</span><span class="p">.</span><span class="nx">add</span><span class="p">({</span> <span class="na">data</span><span class="p">:</span> <span class="mi">42</span> <span class="p">});</span>
<span class="c1">// Because the added object has no other references, it will not be held in the set</span>

</code></pre></div></div>

<blockquote>
  <p>Support via polyfill:
In order to support Maps, Sets, WeakMaps, and WeakSets in all environments you must include the Babel polyfill.</p>
</blockquote>

<h2 id="proxies">Proxies</h2>

<p>Proxies enable creation of objects with the full range of behaviors available to host objects. Can be used for interception, object virtualization, logging/profiling, etc.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Proxying a normal object</span>
<span class="kd">var</span> <span class="nx">target</span> <span class="o">=</span> <span class="p">{};</span>
<span class="kd">var</span> <span class="nx">handler</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">get</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">receiver</span><span class="p">,</span> <span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s2">`Hello, </span><span class="p">${</span><span class="nx">name</span><span class="p">}</span><span class="s2">!`</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Proxy</span><span class="p">(</span><span class="nx">target</span><span class="p">,</span> <span class="nx">handler</span><span class="p">);</span>
<span class="nx">p</span><span class="p">.</span><span class="nx">world</span> <span class="o">===</span> <span class="s2">"Hello, world!"</span><span class="p">;</span>
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Proxying a function object</span>
<span class="kd">var</span> <span class="nx">target</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="s2">"I am the target"</span><span class="p">;</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">handler</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">apply</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">receiver</span><span class="p">,</span> <span class="p">...</span><span class="nx">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s2">"I am the proxy"</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Proxy</span><span class="p">(</span><span class="nx">target</span><span class="p">,</span> <span class="nx">handler</span><span class="p">);</span>
<span class="nx">p</span><span class="p">()</span> <span class="o">===</span> <span class="s2">"I am the proxy"</span><span class="p">;</span>
</code></pre></div></div>

<p>There are traps available for all of the runtime-level meta-operations:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">handler</span> <span class="o">=</span>
<span class="p">{</span>
  <span class="c1">// target.prop</span>
  <span class="na">get</span><span class="p">:</span> <span class="p">...,</span>
  <span class="c1">// target.prop = value</span>
  <span class="na">set</span><span class="p">:</span> <span class="p">...,</span>
  <span class="c1">// 'prop' in target</span>
  <span class="na">has</span><span class="p">:</span> <span class="p">...,</span>
  <span class="c1">// delete target.prop</span>
  <span class="na">deleteProperty</span><span class="p">:</span> <span class="p">...,</span>
  <span class="c1">// target(...args)</span>
  <span class="na">apply</span><span class="p">:</span> <span class="p">...,</span>
  <span class="c1">// new target(...args)</span>
  <span class="na">construct</span><span class="p">:</span> <span class="p">...,</span>
  <span class="c1">// Object.getOwnPropertyDescriptor(target, 'prop')</span>
  <span class="na">getOwnPropertyDescriptor</span><span class="p">:</span> <span class="p">...,</span>
  <span class="c1">// Object.defineProperty(target, 'prop', descriptor)</span>
  <span class="na">defineProperty</span><span class="p">:</span> <span class="p">...,</span>
  <span class="c1">// Object.getPrototypeOf(target), Reflect.getPrototypeOf(target),</span>
  <span class="c1">// target.__proto__, object.isPrototypeOf(target), object instanceof target</span>
  <span class="na">getPrototypeOf</span><span class="p">:</span> <span class="p">...,</span>
  <span class="c1">// Object.setPrototypeOf(target), Reflect.setPrototypeOf(target)</span>
  <span class="na">setPrototypeOf</span><span class="p">:</span> <span class="p">...,</span>
  <span class="c1">// for (let i in target) {}</span>
  <span class="na">enumerate</span><span class="p">:</span> <span class="p">...,</span>
  <span class="c1">// Object.keys(target)</span>
  <span class="na">ownKeys</span><span class="p">:</span> <span class="p">...,</span>
  <span class="c1">// Object.preventExtensions(target)</span>
  <span class="na">preventExtensions</span><span class="p">:</span> <span class="p">...,</span>
  <span class="c1">// Object.isExtensible(target)</span>
  <span class="na">isExtensible</span> <span class="p">:...</span>
<span class="p">}</span>
</code></pre></div></div>

<blockquote>
  <p>Unsupported feature:
Due to the limitations of ES5, Proxies cannot be transpiled or polyfilled. See support in various JavaScript engines.</p>
</blockquote>

<h2 id="symbols">Symbols</h2>

<p>Symbols enable access control for object state. Symbols allow properties to be keyed by either string (as in ES5) or symbol. Symbols are a new primitive type. Optional name parameter used in debugging - but is not part of identity. Symbols are unique (like gensym), but not private since they are exposed via reflection features like Object.getOwnPropertySymbols.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

  <span class="c1">// module scoped symbol</span>
  <span class="kd">var</span> <span class="nx">key</span> <span class="o">=</span> <span class="nb">Symbol</span><span class="p">(</span><span class="s2">"key"</span><span class="p">);</span>

  <span class="kd">function</span> <span class="nx">MyClass</span><span class="p">(</span><span class="nx">privateData</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="nx">privateData</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">MyClass</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">doStuff</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="p">...</span> <span class="k">this</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="p">...</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="c1">// Limited support from Babel, full support requires native implementation.</span>
  <span class="k">typeof</span> <span class="nx">key</span> <span class="o">===</span> <span class="s2">"symbol"</span>
<span class="p">})();</span>

<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MyClass</span><span class="p">(</span><span class="s2">"hello"</span><span class="p">)</span>
<span class="nx">c</span><span class="p">[</span><span class="s2">"key"</span><span class="p">]</span> <span class="o">===</span> <span class="kc">undefined</span>

</code></pre></div></div>

<blockquote>
  <p>Limited support via polyfill:
Limited support requires the Babel polyfill. Due to language limitations, some features can’t be transpiled or polyfilled. See core.js’s caveats section for more details.</p>
</blockquote>

<h2 id="subclassable-built-ins">Subclassable Built-ins</h2>

<p>In ES2015, built-ins like Array, Date and DOM Elements can be subclassed.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// User code of Array subclass</span>
<span class="kd">class</span> <span class="nx">MyArray</span> <span class="kd">extends</span> <span class="nb">Array</span> <span class="p">{</span>
    <span class="kd">constructor</span><span class="p">(...</span><span class="nx">args</span><span class="p">)</span> <span class="p">{</span> <span class="k">super</span><span class="p">(...</span><span class="nx">args</span><span class="p">);</span> <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MyArray</span><span class="p">();</span>
<span class="nx">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">12</span><span class="p">;</span>
<span class="nx">arr</span><span class="p">.</span><span class="nx">length</span> <span class="o">==</span> <span class="mi">2</span>
</code></pre></div></div>

<blockquote>
  <p>Partial support:
Built-in subclassability should be evaluated on a case-by-case basis as classes such as HTMLElement can be subclassed while many such as Date, Array and Error cannot be due to ES5 engine limitations.</p>
</blockquote>

<h2 id="math--number--string--object-apis">Math + Number + String + Object APIs</h2>

<p>Many new library additions, including core Math libraries, Array conversion helpers, and Object.assign for copying.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">Number</span><span class="p">.</span><span class="nx">EPSILON</span>
<span class="nb">Number</span><span class="p">.</span><span class="nx">isInteger</span><span class="p">(</span><span class="kc">Infinity</span><span class="p">)</span> <span class="c1">// false</span>
<span class="nb">Number</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="s2">"NaN"</span><span class="p">)</span> <span class="c1">// false</span>

<span class="nb">Math</span><span class="p">.</span><span class="nx">acosh</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="c1">// 1.762747174039086</span>
<span class="nb">Math</span><span class="p">.</span><span class="nx">hypot</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="c1">// 5</span>
<span class="nb">Math</span><span class="p">.</span><span class="nx">imul</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">32</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">32</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span> <span class="c1">// 2</span>

<span class="s2">"abcde"</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s2">"cd"</span><span class="p">)</span> <span class="c1">// true</span>
<span class="s2">"abc"</span><span class="p">.</span><span class="nx">repeat</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="c1">// "abcabcabc"</span>

<span class="nb">Array</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s2">"*"</span><span class="p">))</span> <span class="c1">// Returns a real Array</span>
<span class="nb">Array</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="c1">// Similar to new Array(...), but without special one-arg behavior</span>
<span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">].</span><span class="nx">fill</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1">// [0,7,7]</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">].</span><span class="nx">findIndex</span><span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">x</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span> <span class="c1">// 1</span>
<span class="p">[</span><span class="s2">"a"</span><span class="p">,</span> <span class="s2">"b"</span><span class="p">,</span> <span class="s2">"c"</span><span class="p">].</span><span class="nx">entries</span><span class="p">()</span> <span class="c1">// iterator [0, "a"], [1,"b"], [2,"c"]</span>
<span class="p">[</span><span class="s2">"a"</span><span class="p">,</span> <span class="s2">"b"</span><span class="p">,</span> <span class="s2">"c"</span><span class="p">].</span><span class="nx">keys</span><span class="p">()</span> <span class="c1">// iterator 0, 1, 2</span>
<span class="p">[</span><span class="s2">"a"</span><span class="p">,</span> <span class="s2">"b"</span><span class="p">,</span> <span class="s2">"c"</span><span class="p">].</span><span class="nx">values</span><span class="p">()</span> <span class="c1">// iterator "a", "b", "c"</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="nx">Point</span><span class="p">,</span> <span class="p">{</span> <span class="na">origin</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">})</span>
</code></pre></div></div>

<blockquote>
  <p>Limited support from polyfill:
Most of these APIs are supported by the Babel polyfill. However, certain features are omitted for various reasons (e.g. String.prototype.normalize needs a lot of additional code to support). You can find more polyfills here.</p>
</blockquote>

<h2 id="binary-and-octal-literals">Binary and Octal Literals</h2>

<p>Two new numeric literal forms are added for binary (b) and octal (o).</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mb">0b111110111</span> <span class="o">===</span> <span class="mi">503</span> <span class="c1">// true</span>
<span class="mo">0o767</span> <span class="o">===</span> <span class="mi">503</span> <span class="c1">// true</span>
</code></pre></div></div>

<blockquote>
  <p>Only supports literal form:
Babel is only able to transform 0o767 and not Number(“0o767”).</p>
</blockquote>

<h2 id="promises">Promises</h2>

<p>Promises are a library for asynchronous programming. Promises are a first class representation of a value that may be made available in the future. Promises are used in many existing JavaScript libraries.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">timeout</span><span class="p">(</span><span class="nx">duration</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">duration</span><span class="p">);</span>
    <span class="p">})</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">p</span> <span class="o">=</span> <span class="nx">timeout</span><span class="p">(</span><span class="mi">1000</span><span class="p">).</span><span class="nx">then</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">timeout</span><span class="p">(</span><span class="mi">2000</span><span class="p">);</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">"hmm"</span><span class="p">);</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">all</span><span class="p">([</span><span class="nx">timeout</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span> <span class="nx">timeout</span><span class="p">(</span><span class="mi">200</span><span class="p">)]);</span>
<span class="p">})</span>
</code></pre></div></div>

<blockquote>
  <p>Support via polyfill:
In order to support Promises you must include the Babel polyfill.</p>
</blockquote>

<h2 id="reflect-api">Reflect API</h2>

<p>Full reflection API exposing the runtime-level meta-operations on objects. This is effectively the inverse of the Proxy API, and allows making calls corresponding to the same meta-operations as the proxy traps. Especially useful for implementing proxies.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">O</span> <span class="o">=</span> <span class="p">{</span><span class="na">a</span><span class="p">:</span> <span class="mi">1</span><span class="p">};</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">O</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="p">{</span><span class="na">value</span><span class="p">:</span> <span class="mi">2</span><span class="p">});</span>
<span class="nx">O</span><span class="p">[</span><span class="nb">Symbol</span><span class="p">(</span><span class="s1">'c'</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>

<span class="nb">Reflect</span><span class="p">.</span><span class="nx">ownKeys</span><span class="p">(</span><span class="nx">O</span><span class="p">);</span> <span class="c1">// ['a', 'b', Symbol(c)]</span>

<span class="kd">function</span> <span class="nx">C</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">){</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">c</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">instance</span> <span class="o">=</span> <span class="nb">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="p">(</span><span class="nx">C</span><span class="p">,</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">22</span><span class="p">]);</span>
<span class="nx">instance</span><span class="p">.</span><span class="nx">c</span><span class="p">;</span> <span class="c1">// 42</span>
</code></pre></div></div>

<blockquote>
  <p>Support via polyfill:
In order to use the Reflect API you must include the Babel polyfill.</p>
</blockquote>

<h2 id="tail-calls">Tail Calls</h2>

<p>Calls in tail-position are guaranteed to not grow the stack unboundedly. Makes recursive algorithms safe in the face of unbounded inputs.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">factorial</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span> <span class="nx">acc</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">n</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="nx">acc</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">factorial</span><span class="p">(</span><span class="nx">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">n</span> <span class="o">*</span> <span class="nx">acc</span><span class="p">);</span>
<span class="p">}</span>
<span class="c1">// Stack overflow in most implementations today,</span>
<span class="c1">// but safe on arbitrary inputs in ES2015</span>
<span class="nx">factorial</span><span class="p">(</span><span class="mi">100000</span><span class="p">)</span>
</code></pre></div></div>

<blockquote>
  <p>Temporarily Removed in Babel 6:
Only explicit self referencing tail recursion was supported due to the complexity and performance impact of supporting tail calls globally. Removed due to other bugs and will be re-implemented.</p>
</blockquote>

  </div>

</article>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/newlifebegins"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">newlifebegins</span></a>

            <span>fullstack web developer
</span>
          </li>
          
        </ul>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
